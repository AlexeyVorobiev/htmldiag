<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Compact Audio Player</title>
  <style>
    :root{
      color-scheme: light dark;
      --bg:#f5f7ff;
      --card:#ffffff;
      --accent:#2f54d0;
      --accent-strong:#1e3c99;
      --text:#1a1f36;
      --muted:#6b7288;
      --border:#d6dcf2;
    }
    *{box-sizing:border-box;font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
    html,body{width:400px;height:96px;margin:0;background:var(--bg);display:flex;align-items:center;justify-content:center;overflow:hidden}
    body{padding:0}
    .player{width:360px;display:flex;align-items:center;gap:12px;background:var(--card);border-radius:14px;padding:14px 16px;box-shadow:0 10px 20px rgba(35,60,130,.12);border:1px solid rgba(255,255,255,.7)}
    button{background:var(--accent);color:#fff;border:none;border-radius:999px;padding:8px 16px;font-weight:600;font-size:13px;cursor:pointer;transition:background .2s ease,transform .2s ease}
    button:hover{background:var(--accent-strong);transform:translateY(-1px)}
    button:focus{outline:none;box-shadow:0 0 0 3px rgba(47,84,208,.25)}
    button[disabled]{opacity:.5;cursor:not-allowed;transform:none}
    .seek{flex:1}
    input[type="range"]{width:100%;appearance:none;height:6px;border-radius:999px;background:var(--border);position:relative}
    input[type="range"]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:#fff;border:3px solid var(--accent);box-shadow:0 0 0 3px rgba(47,84,208,.2);transition:transform .2s ease}
    input[type="range"]::-webkit-slider-thumb:hover{transform:scale(1.1)}
    input[type="range"]::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:#fff;border:3px solid var(--accent);box-shadow:0 0 0 3px rgba(47,84,208,.2);transition:transform .2s ease}
    input[type="range"]::-moz-range-thumb:hover{transform:scale(1.1)}
  </style>
</head>
<body>
<div class="player">
  <button type="button" id="playBtn">Play</button>
  <button type="button" id="pauseBtn" disabled>Pause</button>
  <input class="seek" id="seek" type="range" value="0" min="0" max="1" step="0.01" aria-label="Seek">
</div>
<audio id="audio" src="track.mp3" preload="metadata"></audio>
<script>
(()=>{"use strict";
  const audio=document.getElementById("audio");
  const playBtn=document.getElementById("playBtn");
  const pauseBtn=document.getElementById("pauseBtn");
  const seek=document.getElementById("seek");
  let seeking=false;

  function enableControls(){
    const ready=!isNaN(audio.duration)&&audio.duration>0;
    playBtn.disabled=false;
    pauseBtn.disabled=audio.paused;
    if(ready){
      seek.max=audio.duration;
      seek.step="0.01";
    }
  }

  audio.addEventListener("loadedmetadata",()=>{
    seek.max=audio.duration;
    enableControls();
  });

  audio.addEventListener("play",()=>{
    playBtn.disabled=true;
    pauseBtn.disabled=false;
  });

  audio.addEventListener("pause",()=>{
    pauseBtn.disabled=true;
    playBtn.disabled=false;
  });

  audio.addEventListener("timeupdate",()=>{
    if(!seeking){
      seek.value=audio.currentTime;
    }
  });

  audio.addEventListener("ended",()=>{
    audio.currentTime=0;
    playBtn.disabled=false;
    pauseBtn.disabled=true;
    seek.value=0;
  });

  playBtn.addEventListener("click",()=>{
    audio.play().catch(()=>{});
  });

  pauseBtn.addEventListener("click",()=>{
    audio.pause();
  });

  seek.addEventListener("input",()=>{
    seeking=true;
    audio.currentTime=parseFloat(seek.value||"0");
  });

  seek.addEventListener("change",()=>{
    seeking=false;
    audio.currentTime=parseFloat(seek.value||"0");
  });

  enableControls();
})();
</script>
</body>
</html>
