<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Compact Audio Player</title>
  <style>
    :root{
      color-scheme: light;
      --bg:#eef2f6;
      --card:#f6f8fc;
      --accent:#0a9a9f;
      --accent-soft:#6faeb3;
      --accent-strong:#087c81;
      --text:#233547;
      --muted:#5f6f81;
      --border:#d7dee9;
      --slider-track:#dce3ef;
    }
    *{box-sizing:border-box;font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
    html,body{width:400px;height:96px;margin:0;background:var(--bg);display:flex;align-items:center;justify-content:center;overflow:hidden}
    body{padding:0}
    .player{width:360px;display:flex;align-items:center;gap:16px;background:var(--card);border-radius:26px;padding:18px 20px;box-shadow:0 10px 24px rgba(18,54,70,.12);border:1px solid rgba(255,255,255,.65)}
    .badge{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:50%;background:rgba(10,154,159,.12);color:var(--accent);flex-shrink:0}
    .badge svg{width:20px;height:20px;fill:currentColor}
    .ghost{width:36px;height:36px;border-radius:50%;background:#fff;box-shadow:0 6px 16px rgba(18,54,70,.12);display:inline-flex;align-items:center;justify-content:center;color:var(--accent-soft);flex-shrink:0}
    .ghost svg{width:16px;height:16px;fill:currentColor}
    .ghost[aria-hidden="true"]{pointer-events:none}
    .main-btn{width:48px;height:48px;border-radius:50%;border:none;background:var(--accent);color:#fff;display:inline-flex;align-items:center;justify-content:center;transition:transform .2s ease,box-shadow .2s ease,background .2s ease;flex-shrink:0}
    .main-btn svg{width:18px;height:18px;fill:currentColor}
    .main-btn:focus{outline:none;box-shadow:0 0 0 4px rgba(10,154,159,.22)}
    .main-btn:hover{transform:translateY(-1px);box-shadow:0 10px 18px rgba(8,124,129,.22);background:var(--accent-strong)}
    .seek-wrap{flex:1;display:flex;align-items:center;gap:10px}
    .time{font-variant-numeric:tabular-nums;font-size:13px;font-weight:600;color:var(--muted);min-width:44px;text-align:right}
    input[type="range"]{flex:1;appearance:none;height:6px;border-radius:999px;background:linear-gradient(to right,var(--accent) 0%,var(--accent) calc(var(--fill,0)*100%),var(--slider-track) calc(var(--fill,0)*100%),var(--slider-track) 100%);position:relative;transition:background .2s ease}
    input[type="range"]::-webkit-slider-runnable-track{height:6px;border-radius:999px;background:transparent}
    input[type="range"]::-moz-range-track{height:6px;border-radius:999px;background:transparent}
    input[type="range"]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:#fff;border:3px solid var(--accent);box-shadow:0 2px 6px rgba(8,124,129,.25);transition:transform .2s ease,box-shadow .2s ease}
    input[type="range"]::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:#fff;border:3px solid var(--accent);box-shadow:0 2px 6px rgba(8,124,129,.25);transition:transform .2s ease,box-shadow .2s ease}
    input[type="range"]:hover::-webkit-slider-thumb,input[type="range"]:focus::-webkit-slider-thumb{transform:scale(1.05);box-shadow:0 4px 10px rgba(8,124,129,.3)}
    input[type="range"]:hover::-moz-range-thumb,input[type="range"]:focus::-moz-range-thumb{transform:scale(1.05);box-shadow:0 4px 10px rgba(8,124,129,.3)}
  </style>
</head>
<body>
<div class="player">
  <div class="badge" aria-hidden="true">
    <svg viewBox="0 0 20 20"><path d="M6.5 4.5c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1s1-.45 1-1v-9c0-.55-.45-1-1-1zm7 0c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1s1-.45 1-1v-9c0-.55-.45-1-1-1zm-3.5 1c-.55 0-1 .45-1 1v7c0 .55.45 1 1 1s1-.45 1-1v-7c0-.55-.45-1-1-1zm-7 2c-.55 0-1 .45-1 1v5c0 .55.45 1 1 1s1-.45 1-1v-5c0-.55-.45-1-1-1zm14 0c-.55 0-1 .45-1 1v5c0 .55.45 1 1 1s1-.45 1-1v-5c0-.55-.45-1-1-1z"></path></svg>
  </div>
  <div class="ghost" aria-hidden="true">
    <svg viewBox="0 0 20 20"><path d="M12.5 5.5a1 1 0 0 0-1.53-.85l-5 3.5a1 1 0 0 0 0 1.7l5 3.5a1 1 0 0 0 1.53-.85v-7z"></path></svg>
  </div>
  <div class="ghost" aria-hidden="true">
    <svg viewBox="0 0 20 20"><path d="M12.86 5.14a1 1 0 0 0-1.72.7V7A5 5 0 0 0 7 12v1.16l-1.3-1.3a1 1 0 0 0-1.4 1.42l3.01 3.01a1 1 0 0 0 1.41 0l3.01-3.01a1 1 0 1 0-1.41-1.42L9 13.17V12a3 3 0 0 1 3-3h.86v1.16a1 1 0 0 0 1.72.7l2.57-2.57a1 1 0 0 0 0-1.42z"></path></svg>
  </div>
  <button type="button" class="main-btn" id="toggleBtn" aria-label="Play audio">
    <svg viewBox="0 0 12 12" aria-hidden="true"><path d="M3 2.25v7.5L9.5 6 3 2.25z"></path></svg>
  </button>
  <div class="ghost" aria-hidden="true">
    <svg viewBox="0 0 20 20"><path d="M7.14 5.14a1 1 0 0 1 1.72.7V7A5 5 0 0 1 13 12v1.16l1.3-1.3a1 1 0 0 1 1.4 1.42l-3.01 3.01a1 1 0 0 1-1.41 0l-3.01-3.01a1 1 0 1 1 1.41-1.42L11 13.17V12a3 3 0 0 0-3-3h-.86v1.16a1 1 0 0 1-1.72.7L2.85 8.29a1 1 0 0 1 0-1.42z"></path></svg>
  </div>
  <div class="ghost" aria-hidden="true">
    <svg viewBox="0 0 20 20"><path d="M7.5 5.5a1 1 0 0 1 1.53-.85l5 3.5a1 1 0 0 1 0 1.7l-5 3.5A1 1 0 0 1 7.5 12.5v-7z"></path></svg>
  </div>
  <div class="seek-wrap">
    <input id="seek" type="range" value="0" min="0" max="1" step="0.01" aria-label="Seek through track">
    <span class="time" id="time">0:00</span>
  </div>
</div>
<audio id="audio" src="track.mp3" preload="metadata"></audio>
<script>
(()=>{"use strict";
  const audio=document.getElementById("audio");
  const toggleBtn=document.getElementById("toggleBtn");
  const seek=document.getElementById("seek");
  const time=document.getElementById("time");
  let seeking=false;

  const formatTime=seconds=>{
    if(!Number.isFinite(seconds)) return "0:00";
    const mins=Math.floor(seconds/60);
    const secs=Math.max(0,Math.floor(seconds%60));
    return `${mins}:${secs.toString().padStart(2,"0")}`;
  };

  const updateSeekFill=()=>{
    const max=parseFloat(seek.max||"1");
    const value=parseFloat(seek.value||"0");
    const fraction=max>0?value/max:0;
    seek.style.setProperty("--fill",fraction);
  };

  const syncTime=()=>{
    const remaining=audio.duration - audio.currentTime;
    if(Number.isFinite(remaining)){
      time.textContent=formatTime(remaining);
    }else{
      time.textContent="0:00";
    }
  };

  function updateToggleIcon(){
    toggleBtn.innerHTML=audio.paused
      ? '<svg viewBox="0 0 12 12" aria-hidden="true"><path d="M3 2.25v7.5L9.5 6 3 2.25z"></path></svg>'
      : '<svg viewBox="0 0 12 12" aria-hidden="true"><path d="M3 2.2h2.2v7.6H3V2.2zm3.8 0H9v7.6H6.8V2.2z"></path></svg>';
    toggleBtn.setAttribute("aria-label",audio.paused?"Play audio":"Pause audio");
  }

  function enableControls(){
    if(Number.isFinite(audio.duration)&&audio.duration>0){
      seek.max=audio.duration;
      seek.step="0.01";
      syncTime();
      updateSeekFill();
    }
    updateToggleIcon();
  }

  audio.addEventListener("loadedmetadata",()=>{
    seek.max=audio.duration;
    enableControls();
  });

  audio.addEventListener("play",()=>{
    updateToggleIcon();
  });

  audio.addEventListener("pause",()=>{
    updateToggleIcon();
  });

  audio.addEventListener("timeupdate",()=>{
    if(!seeking){
      seek.value=audio.currentTime;
      updateSeekFill();
    }
    syncTime();
  });

  audio.addEventListener("ended",()=>{
    audio.currentTime=0;
    seek.value=0;
    updateSeekFill();
    syncTime();
    updateToggleIcon();
  });

  toggleBtn.addEventListener("click",()=>{
    if(audio.paused){
      audio.play().catch(()=>{});
    }else{
      audio.pause();
    }
  });

  seek.addEventListener("input",()=>{
    seeking=true;
    audio.currentTime=parseFloat(seek.value||"0");
    updateSeekFill();
    syncTime();
  });

  seek.addEventListener("change",()=>{
    seeking=false;
    audio.currentTime=parseFloat(seek.value||"0");
    updateSeekFill();
    syncTime();
  });

  enableControls();
})();
</script>
</body>
</html>
